# 任务3  特征处理：人物关系图构建与特征归一化

当获取了人物之间的共现关系之后，我们就可以根据共现关系，生成人物之间的关系图了。人物关系图使用邻接表的形式表示，方便后面的PageRank计算。在人物关系图中，人物是顶点，人物之间的互动关系是边。人物之间的互动关系靠人物之间的共现关系确定。如果两个人之间具有共现关系，则两个人之间就具有一条边。两人之间的共现次数体现出两人关系的密切程度，反映到共现关系图上就是边的权重。边的权重越高则体现了两个人的关系越密切。

为了使后面的方便分析，还需要对共现次数进行归一化处理：将共现次数转换为共现概率，具体的过程见后面的示例。

## 输入输出

输入：任务2的输出

输出：归一化权重后的人物关系图

## 示例

输入：
 
<狄云，戚芳> 1

<狄云，戚长发> 1

<狄云，卜垣> 1

<戚芳，狄云 > 1

<戚芳，戚长发 > 1

<戚芳，卜垣 > 2

<戚长发，狄云 > 1

<戚长发，戚芳 > 1

<戚长发，卜垣 > 1

<卜垣，狄云> 1

<卜垣，戚芳> 2

<卜垣，戚长发> 1

 
输出：

狄云 [戚芳,0.33333|戚长发，0.333333|卜垣0.333333]

戚芳 [狄云,0.25 |戚长发，0.25|卜垣0.5]

戚长发 [狄云,0.33333|戚芳，0.333333|卜垣0.333333]

卜垣 [狄云0.25|戚芳,0.5|戚长发，0.25]

首先是将统计出的人物共现次数结果，转换成邻接表的形式表示：每一行表示一个邻接关系。
“戚芳 [狄云,0.25 |戚长发，0.25|卜垣0.5] ”表示了顶点“戚芳”，有三个邻接点，分别是“狄云”、“戚长发”和“卜垣”，对应三条邻接边，每条邻接边上分别具有不同的权重。这个邻接边的权重是依靠某个人与其他人共现的“概率”得到的，以“戚芳”为例，她分别与三个人（“狄云”共现1次、“戚长发”，共现1次、“卜垣”共现2次）有共现关系，则戚芳与三个人共现的“概率”分别为1/(1+1+2) = 0.25，1/(1+1+2) = 0.25， 2/(1+1+2) = 0.5。这三个“概率”值对应与三条边的权重。通过这种归一化，我们确保了某个顶点的出边权重的和为1。
